#
# Yes, it really is this hard to do
# and it is broken on GNU non-POSIX non-+ support.
save () {
    for i do printf %s\\n "$i" | sed "s/'/'\\\\''/g;1s/^/'/;\$s/\$/' \\\\/" ; done
    echo " "
}

old=$(save "$@")
myarray=$(save "$@")
set -- foo bar baz boo
eval "set -- $myarray"
for i ; do <++> ; done
eval "set -- $old"
